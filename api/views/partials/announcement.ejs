<div
  class="jbcl-announcement-banner"
  id="siteAnnouncement"
  style="display: none"
>
  <div class="container">
    <div class="jbcl-announcement-content">
      <div class="jbcl-announcement-text">
        <span class="jbcl-announcement-icon">
          <i class="bi bi-info-circle"></i>
        </span>
        <% if (req.hostname === 'testing.jailbreakchangelogs.xyz') { %>
        <span class="jbcl-announcement-message">
          You're viewing our
          <span class="jbcl-announcement-highlight">testing environment</span>.
          <a
            href="https://jailbreakchangelogs.xyz"
            class="jbcl-announcement-link"
            >Return to production site</a
          >
          <span class="jbcl-announcement-cta"
            >or help us test new features!</span
          >
        </span>
        <% } else { %>
        <span class="jbcl-announcement-message">
          Want to try new features before they're released?
          <a
            href="https://testing.jailbreakchangelogs.xyz"
            class="jbcl-announcement-link"
            >Visit our testing site</a
          >
          <span class="jbcl-announcement-cta">and help us improve!</span>
        </span>
        <% } %>
      </div>
      <button
        class="jbcl-announcement-close"
        aria-label="Close announcement"
        onclick="dismissAnnouncement()"
      >
        <i class="bi bi-x"></i>
      </button>
    </div>
  </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const announcement = document.getElementById("siteAnnouncement");
    const isDismissed = sessionStorage.getItem("announcementDismissed");

    if (!isDismissed) {
      announcement.style.display = "block";
    }
  });

  function dismissAnnouncement() {
    const announcement = document.getElementById("siteAnnouncement");
    announcement.style.display = "none";
    sessionStorage.setItem("announcementDismissed", "true");
  }
</script>
